---
import { SITE_TITLE } from "../consts";
import ToggleButton from "./ToggleButton.astro";
import Logo from "./Logo.astro";
import HeaderLink from "./HeaderLink.astro";

const currentPath = new URL(Astro.request.url).pathname;
---

<header class="max-w-4xl">
  <nav
    class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between"
  >
    <div class="flex items-center justify-between">
      <h1 class="text-3xl font-semibold tracking-tight">
        <a href="/" class="flex items-center">
          <Logo class="mr-4 inline-block h-8 w-8 text-foreground" />
          <span class="font-brand">{SITE_TITLE}</span>
        </a>
      </h1>
      <div class="md:hidden">
        <ToggleButton />
      </div>
    </div>
    <div class="flex items-center justify-between gap-4">
      <div
        class="flex divide-x divide-border text-sm [&>*]:transition-colors [&>*]:duration-300"
      >
        <HeaderLink href="/archive" active={currentPath.startsWith("/archive")}>
          Archive
        </HeaderLink>
        <HeaderLink href="/tags" active={currentPath.startsWith("/tags")}>
          Tags
        </HeaderLink>
        <HeaderLink href="/notes" active={currentPath.startsWith("/notes")}>
          Notes
        </HeaderLink>
        <HeaderLink href="/about" active={currentPath.startsWith("/about")}>
          About
        </HeaderLink>
      </div>
      <div class="hidden md:block">
        <ToggleButton />
      </div>
    </div>
  </nav>
</header>
